{"version":3,"sources":["webpack:///./src/views/complaint/Update.vue","webpack:///src/views/complaint/Update.vue","webpack:///./src/views/complaint/Update.vue?f1c4","webpack:///./src/views/complaint/Update.vue?29b9","webpack:///./src/mixins/UpdateMixin.js"],"names":["render","_vm","this","_c","_self","attrs","onSendForm","resetForm","del","item","ref","violations","_e","isLoading","deleteLoading","staticRenderFns","servicePrefix","name","mixins","components","Loading","Toolbar","ComplaintForm","computed","error","updated","methods","createReset","deleteItem","delReset","retrieve","update","updateReset","component","NotificationMixin","data","created","decodeURIComponent","$route","params","id","beforeDestroy","reset","retrieved","find","then","showMessage","$router","push","$options","catch","formatDateTime","$refs","updateForm","$v","$reset","$touch","$invalid","$model","watch","deleted","message","showError","deleteError","val"],"mappings":"yHAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,MAAM,CAAC,gBAAgBJ,EAAIK,WAAW,eAAeL,EAAIM,UAAU,gBAAgBN,EAAIO,OAAQP,EAAIQ,KAAMN,EAAG,gBAAgB,CAACO,IAAI,aAAaL,MAAM,CAAC,OAASJ,EAAIQ,KAAK,OAASR,EAAIU,cAAcV,EAAIW,KAAKT,EAAG,UAAU,CAACE,MAAM,CAAC,QAAUJ,EAAIY,WAAaZ,EAAIa,kBAAkB,IAExWC,EAAkB,G,wECuBtB,MAAMC,EAAgB,YAEP,OACfC,uBACAD,gBACAE,gBACAC,YACAC,eACAC,eACAC,sBAGAC,aACA,4BACAT,0BACAD,sBACAW,cACAC,kBACAd,6BAEA,sCAIAe,YACA,4BACAC,0BACAC,iBACAC,uBACAC,gBACAC,gBACAC,8BCxD+V,I,YCO3VC,EAAY,eACd,EACAjC,EACAe,GACA,EACA,KACA,KACA,MAIa,aAAAkB,E,2CClBf,4BAGe,QACbf,OAAQ,CAACgB,QACTC,OACE,MAAO,CACL1B,KAAM,KAGV2B,UACElC,KAAK4B,SAASO,mBAAmBnC,KAAKoC,OAAOC,OAAOC,MAEtDC,gBACEvC,KAAKwC,SAEPnB,SAAU,CACRoB,YACE,OAAOzC,KAAK0C,KAAKP,mBAAmBnC,KAAKoC,OAAOC,OAAOC,OAG3Dd,QAAS,CACPlB,MACEN,KAAK0B,WAAW1B,KAAKyC,WAAWE,KAAK,KACnC3C,KAAK4C,YAAe5C,KAAKO,KAAK,OAAZ,aAClBP,KAAK6C,QACFC,KAAK,CAAE/B,KAASf,KAAK+C,SAASjC,cAAhB,SACdkC,MAAM,WAGbC,sBACAT,QACExC,KAAKkD,MAAMC,WAAWC,GAAGC,SACzBrD,KAAK8B,cACL9B,KAAK2B,WACL3B,KAAKyB,eAGPrB,aACE,MAAM+C,EAAanD,KAAKkD,MAAMC,WAC9BA,EAAWC,GAAGE,SAETH,EAAWC,GAAGG,UACjBvD,KAAK6B,OAAOsB,EAAWC,GAAG7C,KAAKiD,SAInCnD,YACEL,KAAKkD,MAAMC,WAAWC,GAAGC,SACzBrD,KAAKO,KAAO,IAAKP,KAAKyC,aAG1BgB,MAAO,CACLC,QAAQA,GACDA,GAGL1D,KAAK6C,QACFC,KAAK,CAAE/B,KAASf,KAAK+C,SAASjC,cAAhB,SACdkC,MAAM,SAGX1B,MAAMqC,GACJA,GAAW3D,KAAK4D,UAAUD,IAG5BE,YAAYF,GACVA,GAAW3D,KAAK4D,UAAUD,IAG5BpC,QAAQuC,GACN9D,KAAK4C,YAAekB,EAAI,OAAN,cAGpBrB,UAAUqB,GACR9D,KAAKO,KAAO,IAAKuD","file":"js/chunk-5db6acbe.81ca0377.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('Toolbar',{attrs:{\"handle-submit\":_vm.onSendForm,\"handle-reset\":_vm.resetForm,\"handle-delete\":_vm.del}}),(_vm.item)?_c('ComplaintForm',{ref:\"updateForm\",attrs:{\"values\":_vm.item,\"errors\":_vm.violations}}):_vm._e(),_c('Loading',{attrs:{\"visible\":_vm.isLoading || _vm.deleteLoading}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <Toolbar\n      :handle-submit=\"onSendForm\"\n      :handle-reset=\"resetForm\"\n      :handle-delete=\"del\"\n    />\n    <ComplaintForm\n      ref=\"updateForm\"\n      v-if=\"item\"\n      :values=\"item\"\n      :errors=\"violations\"\n    />\n    <Loading :visible=\"isLoading || deleteLoading\" />\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex';\nimport { mapFields } from 'vuex-map-fields';\nimport ComplaintForm from '../../components/complaint/Form.vue';\nimport Loading from '../../components/Loading';\nimport Toolbar from '../../components/Toolbar';\nimport UpdateMixin from '../../mixins/UpdateMixin';\n\nconst servicePrefix = 'Complaint';\n\nexport default {\n  name: 'ComplaintUpdate',\n  servicePrefix,\n  mixins: [UpdateMixin],\n  components: {\n    Loading,\n    Toolbar,\n    ComplaintForm\n  },\n\n  computed: {\n    ...mapFields('complaint', {\n      deleteLoading: 'isLoading',\n      isLoading: 'isLoading',\n      error: 'error',\n      updated: 'updated',\n      violations: 'violations'\n    }),\n    ...mapGetters('complaint', ['find'])\n\n  },\n\n  methods: {\n    ...mapActions('complaint', {\n      createReset: 'resetCreate',\n      deleteItem: 'del',\n      delReset: 'resetDelete',\n      retrieve: 'load',\n      update: 'update',\n      updateReset: 'resetUpdate'\n    })\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Update.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Update.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Update.vue?vue&type=template&id=b287021c&\"\nimport script from \"./Update.vue?vue&type=script&lang=js&\"\nexport * from \"./Update.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import NotificationMixin from \"./NotificationMixin\";\nimport { formatDateTime } from \"../utils/dates\";\n\nexport default {\n  mixins: [NotificationMixin],\n  data() {\n    return {\n      item: {},\n    };\n  },\n  created() {\n    this.retrieve(decodeURIComponent(this.$route.params.id));\n  },\n  beforeDestroy() {\n    this.reset();\n  },\n  computed: {\n    retrieved() {\n      return this.find(decodeURIComponent(this.$route.params.id));\n    },\n  },\n  methods: {\n    del() {\n      this.deleteItem(this.retrieved).then(() => {\n        this.showMessage(`${this.item[\"@id\"]} deleted.`);\n        this.$router\n          .push({ name: `${this.$options.servicePrefix}List` })\n          .catch(() => {});\n      });\n    },\n    formatDateTime,\n    reset() {\n      this.$refs.updateForm.$v.$reset();\n      this.updateReset();\n      this.delReset();\n      this.createReset();\n    },\n\n    onSendForm() {\n      const updateForm = this.$refs.updateForm;\n      updateForm.$v.$touch();\n\n      if (!updateForm.$v.$invalid) {\n        this.update(updateForm.$v.item.$model);\n      }\n    },\n\n    resetForm() {\n      this.$refs.updateForm.$v.$reset();\n      this.item = { ...this.retrieved };\n    },\n  },\n  watch: {\n    deleted(deleted) {\n      if (!deleted) {\n        return;\n      }\n      this.$router\n        .push({ name: `${this.$options.servicePrefix}List` })\n        .catch(() => {});\n    },\n\n    error(message) {\n      message && this.showError(message);\n    },\n\n    deleteError(message) {\n      message && this.showError(message);\n    },\n\n    updated(val) {\n      this.showMessage(`${val[\"@id\"]} updated.`);\n    },\n\n    retrieved(val) {\n      this.item = { ...val };\n    },\n  },\n};\n"],"sourceRoot":""}